!function n(a,i,o){function l(t,e){if(!i[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=i[t]={exports:{}},a[t][0].call(r.exports,function(e){return l(a[t][1][e]||e)},r,r.exports,n,a,i,o)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<o.length;e++)l(o[e]);return l}({1:[function(e,t,r){"use strict";function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=["spades","hearts","diams","clubs"],l=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],c=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.suits=o,this.values=l,this.deck=[]}var t,r,n;return t=e,(r=[{key:"createDeck",value:function(){for(var e=0;e<this.suits.length;e++)for(var t=0;t<this.values.length;t++)this.deck=[].concat(a(this.deck),[{suit:this.suits[e],value:this.values[t],weight:function(e){switch(e){case"J":case"Q":case"K":return 10;case"A":return 11;default:return parseInt(e)}}(this.values[t])}])}},{key:"shuffleDeck",value:function(){var t=this,e=this.deck.map(function(e,t){return{i:t,value:Math.random()}}).sort(function(e,t){return e.value-t.value});this.deck=e.map(function(e){e=e.i;return t.deck[e]})}},{key:"getCart",value:function(){return this.deck.pop()}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=c},{}],2:[function(e,t,r){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.playersCount=4,this.players=[],this.activePlayerCount=0}var t,r,n;return t=e,(r=[{key:"createPlayer",value:function(e){return{id:e,value:0,carts:[],totalScore:0}}},{key:"createPlayers",value:function(){for(var e=0;e<this.playersCount;e++)this.players.push(this.createPlayer(e));return this.players}},{key:"getActivePlayer",value:function(){return this.players[this.activePlayerCount]}},{key:"pushCardToActivePlayer",value:function(e){this.getActivePlayer().carts.push(e)}},{key:"setActivePlayer",value:function(){for(var e=document.querySelectorAll(".player"),t=0;t<e.length;t++)e[t].id==this.activePlayerCount?e[t].classList.add("active__player"):e[t].classList.remove("active__player")}},{key:"nextActivePlayer",value:function(){return this.activePlayerCount++,this.activePlayerCount}},{key:"resetPlayer",value:function(){this.players=[],this.activePlayerCount=0}},{key:"totalScorePlayer",value:function(e){e.totalScore=e.carts.reduce(function(e,t){return e+t.weight},0)}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=n},{}],3:[function(e,t,r){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=document.querySelector(".field-content"),n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r,n;return t=e,(r=[{key:"renderPlayers",value:function(e){var t=this;o.innerHTML="",e.map(function(e){t.renderCard(e)})}},{key:"renderCard",value:function(e){var t=document.createElement("div"),r=(t.classList.add("player"),t.id=e.id,document.createElement("p")),n=(r.classList.add("player-title"),r.textContent="Имя игрока: ".concat(e.id),t.appendChild(r),document.createElement("p")),a=document.createElement("div"),i=(a.classList.add("playingCards"),t.appendChild(a),null===(i=e.carts)||void 0===i?void 0:i.map(function(e){return'<div class="card rank-1 '.concat(e.suit,'">\n                 <span class="rank">').concat(e.value,'</span>    \n                 <span class="suit">&').concat(e.suit,";</span>\n            </div>")})),e=e.carts.reduce(function(e,t){return e+t.weight},0);a.innerHTML=i,n.innerHTML=e,r.append(n),o.appendChild(t)}},{key:"resetPlayers",value:function(){this.players=[]}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=n},{}],4:[function(e,s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(e("./Deck")),i=r(e("./Player")),o=r(e("./RenderUi"));function r(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=document.querySelector("#start"),f=document.querySelector("#more"),d=document.querySelector("#stay"),u=document.querySelector(".control__field"),e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.deck=new a.default,this.player=new i.default,this.renderUi=new o.default}var t,r,n;return t=e,(r=[{key:"init",value:function(){y.addEventListener("click",this.startGame.bind(this)),f.addEventListener("click",this.moreCart.bind(this)),d.addEventListener("click",this.stay.bind(this))}},{key:"startGame",value:function(){this.player.resetPlayer(),this.deck.createDeck(),this.deck.shuffleDeck(),this.player.createPlayers();var e=this.deck.getCart();this.player.pushCardToActivePlayer(e),this.renderUi.renderPlayers(this.player.players),this.player.setActivePlayer()}},{key:"stay",value:function(){this.player.nextActivePlayer(),this.moreCart()}},{key:"moreCart",value:function(){var e,t,r=this.player.players.length,n=this.player.activePlayerCount;r-1<n?this.resultGame():((e=this.player.getActivePlayer()).carts.push(this.deck.getCart()),t=e.carts.reduce(function(e,t){return e+t.weight},0),this.player.totalScorePlayer(e),21<t&&(this.player.nextActivePlayer(),n==r-1&&this.resultGame()),this.renderUi.renderPlayers(this.player.players),this.player.setActivePlayer())}},{key:"resultGame",value:function(){for(var e=[],t=0,r=0;r<this.player.players.length;r++)this.player.players[r].totalScore==t&&(t=this.player.players[r].totalScore,e=[].concat(l(e),[this.player.players[r]])),this.player.players[r].totalScore>t&&this.player.players[r].totalScore<=21&&(t=this.player.players[r].totalScore,e=[this.player.players[r]]);if(0===t)u.innerHTML="Все проиграли";else{for(var n=[],a=0;a<e.length;a++)var i="Победил игрок ".concat(e[a].id," с результатом ").concat(e[a].totalScore),n=[].concat(l(n),[i]);u.innerHTML=n}}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=e},{"./Deck":1,"./Player":2,"./RenderUi":3}],5:[function(e,t,r){"use strict";(new((e=e("./StartGames"))&&e.__esModule?e:{default:e}).default).init()},{"./StartGames":4}]},{},[5]);